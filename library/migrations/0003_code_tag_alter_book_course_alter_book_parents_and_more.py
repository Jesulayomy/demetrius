# Generated by Django 5.0.1 on 2024-01-29 07:56

import django.db.models.deletion
import library.models
from django.db import migrations, models


class Migration(migrations.Migration):

    dependencies = [
        ('library', '0002_alter_book_uploader'),
    ]

    operations = [
        migrations.CreateModel(
            name='Code',
            fields=[
                ('code', models.CharField(help_text='The course code for this book (i.e. ELE 102)', max_length=8, primary_key=True, serialize=False)),
            ],
        ),
        migrations.CreateModel(
            name='Tag',
            fields=[
                ('name', models.CharField(help_text='\n            The tag for the book, usually the course code letters or GEN\n            (general), used for searching or filtering\n        ', max_length=3, primary_key=True, serialize=False)),
                ('full_name', models.CharField(blank=True, help_text='The full name of the tag, used for display', max_length=128, null=True)),
            ],
        ),
        migrations.AlterField(
            model_name='book',
            name='course',
            field=models.CharField(blank=True, help_text='The course this book is required for (i.e. Power Systems)', max_length=128, null=True),
        ),
        migrations.AlterField(
            model_name='book',
            name='parents',
            field=models.JSONField(blank=True, help_text="The parent drive id's of the book", null=True),
        ),
        migrations.AlterField(
            model_name='book',
            name='session',
            field=models.IntegerField(default=library.models.get_default_year, help_text='\n            The session this book is required for, use the preceding year.\n            i.e. 2018/2019 should be 2018 session.\n        ', validators=[library.models.session_validator]),
        ),
        migrations.AlterField(
            model_name='book',
            name='title',
            field=models.CharField(help_text="\n            The book's title or topic or note index as it appears on the\n            cover or lecture note (i.e Engineering Mathematics,\n            First Order Differential Equations, Note 6)\n        ", max_length=256),
        ),
        migrations.AlterField(
            model_name='book',
            name='code',
            field=models.ForeignKey(blank=True, help_text='Foreign key to the course codes', null=True, on_delete=django.db.models.deletion.SET_NULL, to='library.code'),
        ),
        migrations.AlterField(
            model_name='book',
            name='tag',
            field=models.ForeignKey(default='GEN', help_text='\n            The tag for the book, usually the course code or GEN (general)\n        ', on_delete=django.db.models.deletion.SET_DEFAULT, related_name='books', to='library.tag'),
        ),
    ]
